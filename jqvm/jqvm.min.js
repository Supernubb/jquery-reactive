!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.jqvm=e():t.jqvm=e()}(window,(function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){"use strict";var t={document:{}},e=Object.prototype.hasOwnProperty,n=function(t){return h(t)?t.toLowerCase():t},i=Array.isArray;"i"!=="I".toLowerCase()&&(n=function(t){return h(t)?t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(32|t.charCodeAt(0))})):t},uppercase=function(t){return h(t)?t.replace(/[a-z]/g,(function(t){return String.fromCharCode(-33&t.charCodeAt(0))})):t});var o=Object.prototype.toString,a=Object.getPrototypeOf,s=j("ng");function u(t,n,o){var a,s;if(t)if(v(t))for(a in t)"prototype"!==a&&"length"!==a&&"name"!==a&&t.hasOwnProperty(a)&&n.call(o,t[a],a,t);else if(i(t)||function(t){if(null==t||y(t))return!1;if(i(t)||h(t))return!0;var e="length"in Object(t)&&t.length;return d(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}(t)){var c="object"!==r(t);for(a=0,s=t.length;a<s;a++)(c||a in t)&&n.call(o,t[a],a,t)}else if(t.forEach&&t.forEach!==u)t.forEach(n,o,t);else if(p(t))for(a in t)n.call(o,t[a],a,t);else if("function"==typeof t.hasOwnProperty)for(a in t)t.hasOwnProperty(a)&&n.call(o,t[a],a,t);else for(a in t)e.call(t,a)&&n.call(o,t[a],a,t);return t}function c(){}function f(t){return void 0!==t}function l(t){return null!==t&&"object"===r(t)}function p(t){return null!==t&&"object"===r(t)&&!a(t)}function h(t){return"string"==typeof t}function d(t){return"number"==typeof t}function v(t){return"function"==typeof t}function y(t){return t&&t.window===t}function m(t){return t&&t.$evalAsync&&t.$watch}t.angular||(t.angular={}),c.$inject=[];var b=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/;function g(e){var n=[];return JSON.stringify(e,(function(e,r){if(l(r=function(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:y(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":m(n)&&(r="$SCOPE"),r}(e,r))){if(n.indexOf(r)>=0)return"...";n.push(r)}return r}))}function x(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):void 0===t?"undefined":"string"!=typeof t?g(t):t}function j(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",u=o[1];for(s+=u.replace(/\{\d+\}/g,(function(t){var e=+t.slice(1,-1)+i;return e<o.length?x(o[e]):t})),s+="\nhttp://errors.angularjs.org/1.6.9/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(x(o[r]));return new e(s)}}var w=j("$parse");function O(t){return t+""}var E=Object.create(null);u("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),(function(t){E[t]=!0}));var k={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'};function A(t){this.options=t}function S(t,e){this.lexer=t,this.options=e}function C(t,e){return void 0!==t?t:e}function _(t,e){return void 0===t?e:void 0===e?t:t+e}function P(t){return t.type===S.Identifier||t.type===S.MemberExpression}function I(t,e){this.astBuilder=t,this.$filter=e}function $(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new S(t,n),this.astCompiler=new I(this.ast,e)}function N(t,e){var n={expensiveChecks:!0,literals:{true:!0,false:!1,null:null,undefined:void 0}},i=e&&e.filters?M({},e.filters):{},o=new $(new A({}),(function(t){return i[t]}),n),a={};this.options=e,this.filters=i,this.compile=function(t){var e;if("string"!=typeof t)throw new TypeError("ScopeX need a string, but saw "+r(t));return(e=a[t])||(e=a[t]=o.parse(t)),e},this.data=t||{}}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function M(t,e){for(var n in e)q(e,n)&&(t[n]=e[n]);return t}function R(t,e){return Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e,t}function L(t){return t.reduce((function(t,e){return t.indexOf(e)>-1||t.push(e),t}),[])}return A.prototype={constructor:A,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=E[e],o=E[n],a=E[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\v"===t||"Â "===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=f(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw w("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var r=n(this.text.charAt(this.index));if("."===r||this.isNumber(r))t+=r;else{var i=this.peek();if("e"===r&&this.isExpOperator(i))t+=r;else if(this.isExpOperator(r)&&i&&this.isNumber(i)&&"e"===t.charAt(t.length-1))t+=r;else{if(!this.isExpOperator(r)||i&&this.isNumber(i)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else n+=k[o]||o;i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}},S.Program="Program",S.ExpressionStatement="ExpressionStatement",S.AssignmentExpression="AssignmentExpression",S.ConditionalExpression="ConditionalExpression",S.LogicalExpression="LogicalExpression",S.BinaryExpression="BinaryExpression",S.UnaryExpression="UnaryExpression",S.CallExpression="CallExpression",S.MemberExpression="MemberExpression",S.Identifier="Identifier",S.Literal="Literal",S.ArrayExpression="ArrayExpression",S.Property="Property",S.ObjectExpression="ObjectExpression",S.ThisExpression="ThisExpression",S.LocalsExpression="LocalsExpression",S.NGValueParameter="NGValueParameter",S.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:S.Program,body:t}},expressionStatement:function(){return{type:S.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!P(t))throw w("lval","Trying to assign a value to a non l-value");t={type:S.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:S.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:S.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:S.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:S.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:S.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:S.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:S.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:S.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t,n;for(this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?t=function(t,n){var r,c,f=[],h=[];if(n){if((c=n)&&d(c.length)&&b.test(o.call(c))||(r=n,"[object ArrayBuffer]"===o.call(r)))throw s("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===n)throw s("cpi","Can't copy! Source and destination are identical.");return i(n)?n.length=0:u(n,(function(t,e){"$$hashKey"!==e&&delete n[e]})),f.push(t),h.push(n),g(t,n)}return x(t);function g(t,n){var r,o=n.$$hashKey;if(i(t))for(var a=0,s=t.length;a<s;a++)n.push(x(t[a]));else if(p(t))for(r in t)n[r]=x(t[r]);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(n[r]=x(t[r]));else for(r in t)e.call(t,r)&&(n[r]=x(t[r]));return function(t,e){e?t.$$hashKey=e:delete t.$$hashKey}(n,o),n}function x(t){if(!l(t))return t;var e=f.indexOf(t);if(-1!==e)return h[e];if(y(t)||m(t))throw s("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,r=function(t){switch(o.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(x(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(v(t.cloneNode))return t.cloneNode(!0)}(t);return void 0===r&&(r=i(t)?[]:Object.create(a(t)),n=!0),f.push(t),h.push(r),n?g(t,r):r}}(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?t={type:S.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());n=this.expect("(","[",".");)"("===n.text?(t={type:S.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===n.text?(t={type:S.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===n.text?t={type:S.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:S.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do{t.push(this.filterChain())}while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:S.Identifier,name:t.text}},constant:function(){return{type:S.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:S.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:S.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:S.ObjectExpression,properties:e}},throwError:function(t,e){throw w("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw w("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw w("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{this:{type:S.ThisExpression},$locals:{type:S.LocalsExpression}}},I.prototype={compile:function(t){var e=this,n=this.astBuilder.ast(t);this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},function t(e,n){var r,i,o;switch(e.type){case S.Program:r=!0,u(e.body,(function(e){t(e.expression,n),r=r&&e.expression.constant})),e.constant=r;break;case S.Literal:e.constant=!0,e.toWatch=[];break;case S.UnaryExpression:t(e.argument,n),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case S.BinaryExpression:t(e.left,n),t(e.right,n),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case S.LogicalExpression:t(e.left,n),t(e.right,n),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case S.ConditionalExpression:t(e.test,n),t(e.alternate,n),t(e.consequent,n),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case S.Identifier:e.constant=!1,e.toWatch=[e];break;case S.MemberExpression:t(e.object,n),e.computed&&t(e.property,n),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case S.CallExpression:o=!!e.filter&&function(t,e){return!t(e).$stateful}(n,e.callee.name),r=o,i=[],u(e.arguments,(function(e){t(e,n),r=r&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=o?i:[e];break;case S.AssignmentExpression:t(e.left,n),t(e.right,n),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case S.ArrayExpression:r=!0,i=[],u(e.elements,(function(e){t(e,n),r=r&&e.constant,e.constant||i.push.apply(i,e.toWatch)})),e.constant=r,e.toWatch=i;break;case S.ObjectExpression:r=!0,i=[],u(e.properties,(function(e){t(e.value,n),r=r&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)})),e.constant=r,e.toWatch=i;break;case S.ThisExpression:case S.LocalsExpression:e.constant=!1,e.toWatch=[]}}(n,e.$filter);var r,i="";if(this.stage="assign",r=function(t){if(1===t.body.length&&P(t.body[0].expression))return{type:S.AssignmentExpression,left:t.body[0].expression,right:{type:S.NGValueParameter},operator:"="}}(n)){this.state.computing="assign";var o=this.nextId();this.recurse(r,o),this.return_(o),i="fn.assign="+this.generateFunction("assign","s,v,l")}var a=function(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length||n[0]!==e?n:void 0}}(n.body);e.stage="inputs",u(a,(function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push(r),t.watchId=n})),this.state.computing="fn",this.stage="main",this.recurse(n);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",c=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,O,C,_);return this.state=this.stage=void 0,c.ast=n,c.literal=function(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===S.Literal||t.body[0].expression.type===S.ArrayExpression||t.body[0].expression.type===S.ObjectExpression)}(n),c.constant=function(t){return t.constant}(n),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return u(e,(function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))})),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return u(this.state.filters,(function(n,r){t.push(n+"=$filter("+e.escape(r)+")")})),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,o){var a,s,l,p,h,d=this;if(r=r||c,!o&&f(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.unsafeComputedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case S.Program:u(t.body,(function(e,n){d.recurse(e.expression,void 0,void 0,(function(t){s=t})),n!==t.body.length-1?d.current().body.push(s,";"):d.return_(s)}));break;case S.Literal:p=this.escape(t.value),this.assign(e,p),r(e||p);break;case S.UnaryExpression:this.recurse(t.argument,void 0,void 0,(function(t){s=t})),p=t.operator+"("+this.ifDefined(s,0)+")",this.assign(e,p),r(p);break;case S.BinaryExpression:this.recurse(t.left,void 0,void 0,(function(t){a=t})),this.recurse(t.right,void 0,void 0,(function(t){s=t})),p="+"===t.operator?this.plus(a,s):"-"===t.operator?this.ifDefined(a,0)+t.operator+this.ifDefined(s,0):"("+a+")"+t.operator+"("+s+")",this.assign(e,p),r(p);break;case S.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),r(e);break;case S.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),r(e);break;case S.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),(function(){d.if_("inputs"===d.stage||d.and_("s",d.or_(d.isNull(d.nonComputedMember("s",t.name)),d.has_("s",t.name))),(function(){i&&1!==i&&d.if_(d.isNull(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))}))}),e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),r(e);break;case S.MemberExpression:a=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,a,void 0,(function(){var o=null,u=d.current().inAssignment;t.computed?(s=d.nextId(),o=u||"assign"===d.state.computing?d.unsafeComputedMember(a,s):d.computedMember(a,s)):(o=u||"assign"===d.state.computing?d.unsafeNonComputedMember(a,t.property.name):d.nonComputedMember(a,t.property.name),s=t.property.name),t.computed&&t.property.type===S.Literal&&d.recurse(t.property,s),d.if_(d.and_(d.notNull(a),d.or_(d.isNull(o),d.has_(a,s,t.computed))),(function(){t.computed?(t.property.type!==S.Literal&&d.recurse(t.property,s),i&&1!==i&&d.if_(d.not(o),d.lazyAssign(o,"{}")),d.assign(e,o),n&&(n.computed=!0,n.name=s)):(i&&1!==i&&d.if_(d.isNull(o),d.lazyAssign(o,"{}")),d.assign(e,o),n&&(n.computed=!1,n.name=t.property.name))}),(function(){d.assign(e,"undefined")})),r(e)}),!!i);break;case S.CallExpression:e=e||this.nextId(),t.filter?(s=d.filter(t.callee.name),l=[],u(t.arguments,(function(t){var e=d.nextId();d.recurse(t,e),l.push(e)})),p=s+".call("+s+","+l.join(",")+")",d.assign(e,p),r(e)):(s=d.nextId(),a={},l=[],d.recurse(t.callee,s,a,(function(){d.if_(d.notNull(s),(function(){if(u(t.arguments,(function(e){d.recurse(e,t.constant?void 0:d.nextId(),void 0,(function(t){l.push(t)}))})),a.name){var n=d.member(a.context,a.name,a.computed);p="("+n+" === null ? null : "+d.unsafeMember(a.context,a.name,a.computed)+".call("+[a.context].concat(l).join(",")+"))"}else p=s+"("+l.join(",")+")";d.assign(e,p)}),(function(){d.assign(e,"undefined")})),r(e)})));break;case S.AssignmentExpression:s=this.nextId(),a={},d.current().inAssignment=!0,this.recurse(t.left,void 0,a,(function(){d.if_(d.and_(d.notNull(a.context),d.or_(d.has_(a.context,a.name),d.isNull(d.member(a.context,a.name,a.computed)))),(function(){d.recurse(t.right,s),p=d.member(a.context,a.name,a.computed)+t.operator+s,d.assign(e,p),r(e||p)})),d.current().inAssignment=!1,d.recurse(t.right,s),d.current().inAssignment=!0}),1),d.current().inAssignment=!1;break;case S.ArrayExpression:l=[],u(t.elements,(function(e){d.recurse(e,t.constant?void 0:d.nextId(),void 0,(function(t){l.push(t)}))})),p="["+l.join(",")+"]",this.assign(e,p),r(e||p);break;case S.ObjectExpression:l=[],h=!1,u(t.properties,(function(t){t.computed&&(h=!0)})),h?(e=e||this.nextId(),this.assign(e,"{}"),u(t.properties,(function(t){t.computed?(a=d.nextId(),d.recurse(t.key,a)):a=t.key.type===S.Identifier?t.key.name:""+t.key.value,s=d.nextId(),d.recurse(t.value,s),d.assign(d.unsafeMember(e,a,t.computed),s)}))):(u(t.properties,(function(e){d.recurse(e.value,t.constant?void 0:d.nextId(),void 0,(function(t){l.push(d.escape(e.key.type===S.Identifier?e.key.name:""+e.key.value)+":"+t)}))})),p="{"+l.join(",")+"}",this.assign(e,p)),r(e||p);break;case S.ThisExpression:this.assign(e,"s"),r(e||"s");break;case S.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case S.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(!0===t)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},or_:function(t,e){return"("+t+") || ("+e+")"},hasProperty_:function(t,e,n){return n?"("+e+" in "+t+")":"('"+e+"' in "+t+")"},has_:function(t,e,n){return this.hasProperty_(t,e,n)},and_:function(t,e){return"("+t+") && ("+e+")"},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(e)?t+"."+e:t+'["'+(e=e.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn))+'"]'},unsafeComputedMember:function(t,e){return t+"["+e+"]"},unsafeNonComputedMember:function(t,e){return this.nonComputedMember(t,e)},computedMember:function(t,e){return"assign"===this.state.computing?this.unsafeComputedMember(t,e):"("+t+".hasOwnProperty("+e+") ? "+t+"["+e+"] : null)"},unsafeMember:function(t,e,n){return n?this.unsafeComputedMember(t,e):this.unsafeNonComputedMember(t,e)},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(h(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(d(t))return t.toString();if(!0===t)return"true";if(!1===t)return"false";if(null===t)return"null";if(void 0===t)return"undefined";throw w("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},$.prototype={constructor:$,parse:function(t){return this.astCompiler.compile(t)}},N.prototype.filter=function(t,e){this.filters[t]=e},N.prototype.parse=function(t){return this.compile(t)(this.data)},N.prototype.assign=function(t,e){this.compile(t).assign(this.data,e)},N.prototype.interpolate=function(t){var e=new RegExp("{{(.*?)}}(?!})","g");if(!t.match(e))return t;var n=this;return t=t.replace(e,(function(t){var e=t.trim().slice(2,-2);return n.parse(e)}))},N.prototype.$new=function(t){var e,n=new N((e=t=t||{})&&"object"===r(e)&&e.constructor===Object?R(t,this.data):M({},t),this.options);return M(n.filters,this.filters),n},N.createScope=function t(e,n){var i=(n=n||{}).chain,o=M({},n);function a(t,e){return t&&"function"==typeof t?t.bind(e):t}delete o.chain;var s=null,u=[],c=!1;function f(t,e){return new Proxy({},{get:function(n,r){var i=r in t,o=r in e;return c&&(i||o)&&u.push(r),i?a(t[r],t):o?a(e[r],e):void 0},set:function(n,r,i){return r in t?t[r]=i:r in e?e[r]=i:t[r]=i,!0},deleteProperty:function(){return!1},has:function(n,r){return r in t||r in e},ownKeys:function(){var n=[];for(var r in t)n.push(r);for(r in e)n.indexOf(r)>-1||n.push(r);return n},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}})}var l=new N(s=i?new Proxy({},{get:function(t,n){for(var o=0,s=i.length;o<s;o++){var f=i[o],l="object"===r(f),p=l?f.key:f,h=e[p];if(h){var d=l&&f.getter?f.getter(h):h;if(n in d)return c&&u.push(n),a(d[n],d)}}},set:function(t,n,o){for(var a,s=0,u=i.length;s<u;s++){var c=i[s],f="object"===r(c),l=f?c.key:c,p=e[l];if(p){var h=f&&c.getter?c.getter(p):p;if(a||(a=h),n in h)return f&&c.setter?c.setter(n,o,h,p):h[n]=o,!0}}return a&&(a[n]=o),!0},deleteProperty:function(){return!1},has:function(t,n){for(var o=0,a=i.length;o<a;o++){var s=i[o],u="object"===r(s),c=u?s.key:s,f=e[c];if(f)if(n in(u&&s.getter?s.getter(f):f))return!0}return!1},ownKeys:function(){for(var t=[],n=0,o=i.length;n<o;n++){var a=i[n],s="object"===r(a),u=s?a.key:a,c=e[u];if(c){var f=s&&a.getter?a.getter(c):c;for(var l in f)t.push(l)}}return L(t)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}}):f({},e),o);i?(l.vars=e,Object.defineProperty(l,"$new",{value:function(r){return t(R(r,e),n)}})):Object.defineProperty(l,"$new",{value:function(e){return t(f(e,s),n)}});var p=l.parse.bind(l);return Object.defineProperty(l,"parse",{value:function(t,e){e&&(c=!0);var n=p(t);return e&&(e(L(u)),u.length=0,c=!1),n}}),l},N}(),e.default=i,e.ScopeX=i,e.createScope=i.createScope,e.__esModule=!0},function(t,e,n){"use strict";n.r(e),n.d(e,"component",(function(){return pt})),n.d(e,"directive",(function(){return ht})),n.d(e,"filter",(function(){return dt})),n.d(e,"View",(function(){return at})),n.d(e,"useJQuery",(function(){return xt})),n.d(e,"createStore",(function(){return jt})),n.d(e,"createAsyncComponent",(function(){return wt})),n.d(e,"createRouter",(function(){return zt}));var r=n(0);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return void 0===t}function a(t){return function(t){return o(t)||function(t){return null===t}(t)}(t)||l(t)}function s(t){return Array.isArray(t)}function u(t){return t&&"object"===i(t)&&t.constructor===Object}function c(t){return"string"==typeof t}function f(t){return"number"==typeof t&&!l(t)}function l(t){return"number"==typeof t&&Number.isNaN(t)}function p(t){return"symbol"===i(t)}function h(t,e){return"function"==typeof t&&(!e||!function(t,e){if("function"!=typeof t)return!1;if(t===Symbol)return!1;if(!t.prototype)return!1;var n=t+"",r=n.slice(n.indexOf("{")+1,n.lastIndexOf("}")).trim(),i=0===n.indexOf("class "),o="[native code]"===r,a=i||o;if(e>=4)return a;var s=r.replace(/function.*?\{.*?\}/gm,"").replace(/return/gm,"").replace(/\n+/gm,";").replace(/\s+/gm,"").replace(/;;/gm,";"),u=/^_classCallCheck\(this,/.test(s),c=/^\(.*?_classCallCheck.*?\)\(this,/.test(s),f=/^[0-9a-zA-Z_;!?:]*?\(this,/.test(s),l=a||u||c||f;if(3==e)return l;var p=Object.getOwnPropertyDescriptors(t.prototype),h=!!Object.keys(p).filter((function(t){return"constructor"!==t})).length,d=l||h;if(2==e)return d;var v=0===s.indexOf("this.")||s.indexOf(";this.")>-1||s.indexOf("=this;")>-1,y=d||v;if(1==e)return y;return!0}(t,2))}function d(t,e){var n=function(t,e){for(var n,r,i=Object.getOwnPropertyNames(t),o=Object.getOwnPropertyNames(e),a=(r=o,(n=i).concat(r.filter((function(t){return!m(t,n)})))),s=0,u=a.length;s<u;s++){var c=a[s];if(!m(c,i))return!1;if(!m(c,o))return!1;if(!d(t[c],e[c]))return!1}return!0};return u(t)&&u(e)||s(t)&&s(e)?n(t,e):t===e}function v(t,e,n){return!(!e||"object"!==i(e))&&(n?y(e,t):"symbol"!==i(t)&&Object.prototype.propertyIsEnumerable.call(e,t))}function y(t,e){return!(!t||"object"!==i(t))&&Object.prototype.hasOwnProperty.call(t,e)}function m(t,e){return s(e)&&e.includes(t)}function b(t,e){if(t===e)return!0;if("object"!==i(t)||null===t||"object"!==i(e)||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++){var a=n[o],s=r[o];if(!Object.prototype.hasOwnProperty.call(e,a))return!1;if(!Object.prototype.hasOwnProperty.call(t,s))return!1;if(t[a]!==e[a])return!1;if(t[s]!==e[s])return!1}return!0}function g(t,e){return t.filter((function(t){return!e.includes(t)}))}function x(t,e){var n=[];return t.filter((function(t){if(e){var r=t[e];return!n.includes(r)&&(n.push(r),!0)}return!n.includes(t)&&(n.push(t),!0)}))}function j(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.apply(void 0,n)}function w(t){return k(t)||C(t)||S(t)||E()}function O(t,e){return k(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||S(t,e)||E()}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(t){if(Array.isArray(t))return t}function A(t){return function(t){if(Array.isArray(t))return _(t)}(t)||C(t)||S(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,e){if(t){if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(t,e):void 0}}function C(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function I(t){if("object"===P(t))return function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(function(t){var e=[t],n=[],r=function t(r){if(s(r))return"["+r.map((function(e){return e&&"object"===P(e)?t(e):JSON.stringify(e)})).join(",")+"]";var i="{",o=Object.keys(r),a=o.length;return o.sort(),o.forEach((function(o,s){var u=r[o];if(i+=o+":",u&&"object"===P(u)){var c=e.indexOf(u);if(c>-1)i+="#"+c,n.push(c);else{e.push(u);var f=e.length-1;i+="#"+f+t(u)}}else i+=JSON.stringify(u);s<a-1&&(i+=",")})),i+="}"}(t);return e.forEach((function(t,e){n.includes(e)||(r=r.replace(new RegExp(":#".concat(e),"g"),":"))})),n.includes(0)&&(r="#0"+r),r}(t))}function $(t,e,n){var r;return n?(r=Object.getOwnPropertyDescriptors(t),void Object.keys(r).forEach((function(n){var i=r[n],o=i.get,a=i.set,s=i.enumerable,u=i.configurable,c=i.writable;(s||o||a||u&&c)&&e(i,n,t)}))):void(s(t)?t.forEach(e):Object.keys(t).forEach((function(n){var r=t[n];e(r,n,t)})))}function N(t,e){if(s(t))return t.filter(e);var n={};return $(t,(function(r,i){e(r,i,t)&&(n[i]=r)})),n}var q=Symbol("Proxy");function M(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.get,r=e.set,i=e.del,a=e.dispatch,c=e.writable,f=e.disable,l=e.receive,d=e.extensible,y=e.enumerable,b=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!u(t)&&!s(t))return t;if(h(f)&&f(e,t))return t;return u(t)?g(t,e):x(t,e)},g=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s={},u=new Proxy(s,{get:function(r,i,o){if(p(i)&&i===q)return t;if(p(i)&&0===R(i).indexOf("Symbol."))return Reflect.get(r,i,o);var a=Reflect.get(r,i,o);if(h(n)&&!p(i)){var s=[].concat(A(e),[i]);return n(s,a)}return a},set:function(n,i,o,u){var f=[].concat(A(e),[i]);if(h(l)&&l(f,o),Object.isFrozen(t))return!0;if(h(c)&&!c(f,o))return!0;var p=Object.getOwnPropertyDescriptor(s,i);if(p){if(!("value"in p))return"set"in p&&(t[i]=o),!0;if(!p.writable)return!0}var d,y,m=t[i],g=s[i],x=h(r)?r(f,o):o;return!v(i,s)||o!==m&&o!==g&&x!==m&&x!==g?d=b(y=x,f):(y=m,d=g),t[i]=y,Reflect.set(n,i,d,u),h(a)&&a({keyPath:f,value:o,next:y,active:d,prev:m,invalid:g}),!0},deleteProperty:function(n,r){var u=[].concat(A(e),[r]);if(h(l)&&l(u),Object.isFrozen(t))return!0;if(h(c)&&!c(u))return!0;if(!Object.getOwnPropertyDescriptor(s,r).configurable)return!0;var f=t[r],d=s[r];if(h(i)&&!p(r)&&i(u),delete t[r],Reflect.deleteProperty(n,r),h(a)){a({keyPath:u,value:void 0,next:void 0,active:void 0,prev:f,invalid:d},!o(f))}return!0},has:function(t,n){if(h(y)){var r=[].concat(A(e),[n]);return y(r)}return n in t},isExtensible:function(){var t=A(e);return!h(d)||d(t)}});return $(t,(function(n,i){if("value"in n){var o=n.value,a=[].concat(A(e),[i]);if(Object.isFrozen(t))s[i]=b(o,a);else{var u=h(r)&&!p(i),c=u?r(a,o):o;u&&(t[i]=c),s[i]=b(c,a)}}else Object.defineProperty(s,i,n)}),!0),u},x=function(t){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],g=[],x=new Proxy(g,{get:function(r,i,o){if(p(i)&&i===q)return t;if(p(i)&&0===R(i).indexOf("Symbol."))return Reflect.get(r,i,o);if(m(i,["push","unshift","splice","shift","pop","sort","reverse","fill","insert","remove"]))return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var p=function(){return"push"===i||"unshift"===i?t.length:"splice"===i?[]:"shift"===i?g[0]:"pop"===i?g[t.length-1]:"insert"===i?-1:g};if(h(l)&&l(f,t,i,r),Object.isFrozen(t))return p();if(h(c)&&!c(f,t))return p();if(v(i,e)&&h(e[i])){var d=e[i](f,r);if(!1===d)return p();if(s(d))r=d;else if(u(d)){var y=d.to,m=d.args;i=y,r=m}}var E=t.length,k=null;if("push"===i){Array.prototype[i].apply(t,r);var S=r.map((function(t,e){var n=E+e;return b(t,[].concat(A(f),[n]))}));k=Array.prototype.push.apply(g,S)}else if("splice"===i){Array.prototype[i].apply(t,r);var C=r,_=w(C),P=_[0],I=_[1],$=_.slice(2);if($.length)if(I===$.length){var N=$.map((function(t,e){var n=P+e;return b(t,[].concat(A(f),[n]))})),q=[P,I].concat(A(N));k=Array.prototype.splice.apply(g,q)}else{k=g.slice(P,P+I);var M=t.slice(P),R=M.map((function(t,e){var n=P+e;return b(t,[].concat(A(f),[n]))})),L=[P,t.length].concat(A(R));Array.prototype.splice.apply(g,L)}else k=Array.prototype.splice.call(g,P,I)}else if("fill"===i){Array.prototype[i].apply(t,r);for(var T=r,D=O(T,3),U=D[0],z=D[1],W=void 0===z?0:z,B=D[2],Q=void 0===B?E:B,F=[],V=W;V<Q;V++)F.push(b(U,[].concat(A(f),[V])));var Z=[W,Q-W,F];Array.prototype.splice.apply(g,Z),k=g}else if("insert"===i){if(r.length<1)return-1;if(r.length<2){var K=r,G=O(K,1),H=G[0];k=t.length,Array.prototype.push.call(t,H),Array.prototype.push.call(g,H)}else{var J=r,X=O(J,2),Y=X[0],tt=X[1],et=j((function(){var e=g.indexOf(tt);return e>-1?e:t.indexOf(tt)}));if(et<0)return-1;Array.prototype.splice.call(t,et,0,Y),Array.prototype.splice.call(g,et,0,Y),k=et}}else if("remove"===i){var nt=r,rt=O(nt,1),it=rt[0],ot=j((function(){var e=g.indexOf(it);return e>-1?e:t.indexOf(it)}));if(ot<0)return ot;Array.prototype.splice.call(t,ot,1),Array.prototype.splice.call(g,ot,1),k=ot}else Array.prototype[i].apply(t,r),k=Array.prototype[i].apply(g,r);return h(a)&&a({keyPath:f,value:t,next:t,active:x,prev:t,invalid:x,fn:i,result:k},!0),k};var d=[].concat(A(f),[i]),y=Reflect.get(r,i,o);return h(n)&&!p(i)?n(d,y):y},set:function(e,n,i,o){var s=[].concat(A(f),[n]);if(h(l)&&l(s,i),Object.isFrozen(t))return!0;if(h(c)&&!c(s,i))return!0;var u=Object.getOwnPropertyDescriptor(g,n);if(u){if(!("value"in u))return"set"in u&&(t[n]=i),!0;if(!u.writable)return!0}if("length"===n)return h(c)&&!c(f,t)||(t.length=i,g.length=i,h(a)&&a({keyPath:f,value:t,next:t,prev:t,active:x},!0)),!0;var p,d,y=t[n],m=g[n],j=h(r)?r(s,i):i;return!v(n,g)||i!==y&&i!==m&&j!==y&&j!==m?p=b(d=j,s):(d=y,p=m),t[n]=d,Reflect.set(e,n,p,o),h(a)&&a({keyPath:s,value:i,next:d,active:p,prev:y,invalid:m}),!0},deleteProperty:function(e,n){var r=[].concat(A(f),[n]);if(h(l)&&l(r),Object.isFrozen(t))return!0;if(h(c)&&!c(r))return!0;if(!Object.getOwnPropertyDescriptor(g,n).configurable)return!0;var s=t[n],u=g[n];if(h(i)&&!p(n)&&i(r),delete t[n],Reflect.deleteProperty(e,n),h(a)){a({keyPath:r,value:void 0,next:void 0,active:void 0,prev:s,invalid:u},!o(s))}return!0},has:function(t,e){if(m(e,["remove","insert"]))return!0;if(h(y)){var n=[].concat(A(f),[e]);return y(n)}return e in t},isExtensible:function(){if(h(d)){var t=A(f);return d(t)}return!0}});return $(t,(function(e,n){if("value"in e){var i=e.value,o=[].concat(A(f),[n]);if(Object.isFrozen(t))g[n]=b(i,o);else{var a=h(r)&&!p(n),s=a?r(o,i):i;a&&(t[n]=s),g[n]=b(s,o)}}else Object.defineProperty(g,key,e)}),!0),x},E=b(t);return E}function R(t){if(t.description)return t.description;var e=t.toString();return e.substring(7,e.length-1)}function L(t,e,n){var r=null,i=0;return function(){for(var o=this,a=arguments.length,s=new Array(a),u=0;u<a;u++)s[u]=arguments[u];var c=n&&!r,f=Date.now(),l=function(){r=null,t.apply(o,s)};r||i&&f<i+e||(i=f,c?t.apply(this,s):r=setTimeout(l,e))}}function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function D(t){return function(t){if(Array.isArray(t))return U(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return U(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function z(t,e){var n=[],r=t.replace(/\[.*?\]/g,(function(t,e){var r=n.length;return n.push(t),"".concat(e?".":"","{").concat(r,"}")})).split(".");return r.forEach((function(t,i){if(/^\{\d+\}$/.test(t)){var o=t.substring(1,t.length-1),a=n[o],s=e?a:a.substring(1,a.length-1);r[i]=s}})),r}function W(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||Q(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(t){return function(t){if(Array.isArray(t))return F(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Q(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(t,e){if(t){if("string"==typeof t)return F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(t,e):void 0}}function F(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function V(t){var e=B(t.attributes||[]),n={};return e.forEach((function(t){var e=t.name,r=t.value;n[e]=r})),n}function Z(t){return t.split(/\W|_/).filter((function(t){return!!t})).map((function(t,e){return 0===e?t:t.replace(t[0],t[0].toUpperCase())})).join("")}function K(t){var e=W(t.match(/([a-zA-Z0-9_$]+)(\((.*?)\))?/),4),n=e[1],r=e[3];return[n,c(r)?r.split(",").map((function(t){return t.trim()})).filter((function(t){return!!t})):void 0]}function G(t){return t.nodeName.toLowerCase()}function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function J(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){return function(t){if(Array.isArray(t))return rt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||nt(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||nt(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){if(t){if("string"==typeof t)return rt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rt(t,e):void 0}}function rt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var it=0,ot=null;function at(){}var st={},ut=[],ct=[],ft={};function lt(t,e,n,r){for(var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10,o=0,a=t.length;o<a;o++){var s=t[o];if(s[0]===e)return void(t[o]=[e,n,r,i]);if(s[3]<i)return void t.splice(o-1,[e,n,r,i])}t.push([e,n,r,i])}function pt(t,e,n){lt(ut,t,e,n)}function ht(t,e,n,r){lt(ct,t,e,n,r)}function dt(t,e){ft[t]=e}function vt(t){var e=t[0],n=e.__jQvmCompiledRecords=e.__jQvmCompiledRecords||[];n.length&&(n.forEach((function(t){t.revoke&&t.revoke()})),n.length=0)}function yt(t,e,n,i,o,s){var u=et(s,3),c=u[0],f=u[1],l=u[2],p=t[0],h=p.__jQvmCompiledRecords=p.__jQvmCompiledRecords||[],d=ot("<div />").html(c),v=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;e.each((function(){var e=tt(this.attributes),r=ot(this);e.forEach((function(t){var e=t.name,i=t.value;if(0!==e.indexOf("@")){var o=n.interpolate(i);r.attr(e,o)}})),tt(this.childNodes).forEach((function(e){"#text"===e.nodeName?e.textContent=n.interpolate(e.textContent):0!==e.nodeName.indexOf("#")&&t(ot(e),n)}))}))},y=p.__jQvmComponentInstances=p.__jQvmComponentInstances||[],m=function(s,u){return function(c){var l=ot(this),p=V(this),d=G(this),m=[this],b=l.html(),g=function(t){var a=ot("<div />"),s=t?t instanceof r.ScopeX?f.$new(t.data):f.$new(t):f,u=yt(a,e,n,i,o,[b,s]);return bt(a,f,o),u};g.template=b,g.nodes=tt(this.childNodes);var x={affect:u,attrs:p,els:m,slot:g,scope:f},j=function(t){var e=y.find((function(t){return t.name===d&&t.index===c}));if(!e){var n=t.clone();e={name:d,index:c,component:n},y.push(e)}var r=e.component;if(x.component=r,x.name=d,x.state=i,"template"!==r.tag){var o=r.tag,a=r.attributes,s=ot("<".concat(o," />")),u=function(t){var e=[];return $(t,(function(t,n){e.push("".concat(n,'="').concat(t,'"'))})),e.join(" ")}(p),f=ot("\x3c!-- ".concat(d," ").concat(u," begin --\x3e")),h=ot("\x3c!-- ".concat(d," ").concat(u," end --\x3e"));Object.assign(p,a,Y({},"data-hoist",d)),s.attr(p),l.replaceWith([f,s,h]),m.length=0,m.push(f[0],s[0],h[0])}else l.empty()};if(s instanceof at)j(s);else if("function"==typeof s){var w=yt.bind(null,t,e,n,i,o),O={scope:f,view:o,compile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;return w([t,e])},interpolate:v},E=s.call(O,l,p,g);if(E&&E instanceof at)j(E);else if(!a(E)&&l!==E){var k=ot("<div />").html(E)[0].childNodes;l.replaceWith(k),m.length=0,m.push.apply(m,tt(k))}}h.push(x),m.forEach((function(t){return t.__jQvmCompiledRecord=x}))}};n.forEach((function(r){var s=et(r,3),u=s[0],c=s[1],p=s[2];d.find("[".concat(u,"]")).each((function(){var r=ot(this),s=V(this),d=[this];if("function"==typeof c){var y=yt.bind(null,t,e,n,i,o),m={scope:f,view:o,compile:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l;return y([t,e,n])},interpolate:v},b=c.call(m,r,s);if(!a(b)&&r!==b){var g=ot(b);r.replaceWith(g),d=tt(g)}}l&&r.removeAttr(u);var x={affect:p,attrs:s,els:d,scope:f};h.push(x),d.forEach((function(t){return t.__jQvmCompiledRecord=x}))}))})),e.forEach((function(t){var e=et(t,3),n=e[0],r=e[1],i=e[2];"slot"!==n&&d.find(n).each(m(r,i))})),v(d,f);var b=e.find((function(t){return"slot"===t[0]}));if(b){var g=et(b,3),x=g[0],j=g[1],w=g[2];d.find(x).each(m(j,w))}return tt(d[0].childNodes)}function mt(t,e){var n=function(t,e){var n=e.__jQvmCompiledRecord;if(n){var r=n.els;r.forEach((function(n,i){n===e&&(r[i]=t)})),t.__jQvmCompiledRecord=n}},r=function(t,e){var r=t[0],o=e[0],a=V(r),s=V(o),u=Object.keys(a),c=Object.keys(s);if(c.forEach((function(e){var n=a[e],r=s[e];n!==r&&t.attr(e,r)})),g(u,c).forEach((function(e){"style"!==e&&"class"!==e&&"jqvm-name"!==e&&t.removeAttr(e)})),n(r,o),r.__jQvmComponent){if(r.nodeName===o.nodeName&&a["jqvm-name"]===s["jqvm-name"])return;if(r.nodeName===o.nodeName&&(a.id||s.id)&&a.id===s.id)return;if(r.nodeName===o.nodeName&&(a["data-id"]||s["data-id"])&&a["data-id"]===s["data-id"])return;var f=["style","class","jqvm-name"];if(r.nodeName===o.nodeName&&t.attr("data-hoist")==t.attr("data-hoist")&&d(u.filter((function(t){return!f.includes(t)})),c.filter((function(t){return!f.includes(t)}))))return}var l=tt(o.childNodes);i(t,l)},i=function(t,e){var i=t[0];if(i.childNodes.length){e.forEach((function(e,o){var a=ot(e),s=i.childNodes[o],u=ot(s),c=a.attr("id"),f=a.attr("data-id"),l=function(t){if(t.length){var o=t[0];o!==s&&(i.insertBefore(o,s),n(s,e)),r(t,a)}else i.insertBefore(e,s)};if(s)if(c){l(t.find("[id=".concat(c,"]")))}else if(f){l(t.find('[data-id="'.concat(f,'"]')))}else e.nodeName!==s.nodeName?i.insertBefore(e,s):0!==e.nodeName.indexOf("#")?r(u,a):e.textContent!==s.textContent&&(s.textContent=e.textContent);else i.appendChild(e)}));for(var o=i.childNodes.length-1,a=e.length;o>=a;o--){var s=i.childNodes[o];s.__jQvmComponent&&(s.__jQvmComponent.unmount(),delete s.__jQvmComponent),ot(s).find("*").each((function(){this.__jQvmComponent&&(this.__jQvmComponent.unmount(),delete this.__jQvmComponent)})),i.removeChild(s)}}else e.forEach((function(t){i.appendChild(t)}))};i(t,e)}function bt(t,e,n){var r=t[0];(r.__jQvmCompiledRecords=r.__jQvmCompiledRecords||[]).forEach((function(r){var i=r.affect,o=r.attrs,a=r.component,s=r.els,u=r.scope,c=u&&u!==e?u:e;if(a){var f=r.state,l=r.slot;s.forEach((function(t){if(0!==t.nodeName.indexOf("#")){var e=ot(t),r={};$(o,(function(t,e){if(0===e.indexOf(":")){var i=c.parse(t),o=Z(e.substring(1));r[o]=i}else if(0===e.indexOf("@")){var a=Z(e.substring(1)),s=et(K(t),2),u=s[0],l=s[1],p=n.fn(u);r["@"+a]=function(){var t=null;if(l){var e=l.map((function(t){return c.parse(t)}));t=p.call.apply(p,[n,f].concat(tt(e)))}else t=p.call(n,f);if(h(t)){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t.apply(this,i)}}}else if(0!==e.indexOf("_")){var d=Z(e);r[d]=t}})),a.update(r,st);var i=l.template.trim();a.component("slot",(function(){var t=this.scope;return i?l(t):""})),t.__jQvmComponent?e.attr("jqvm-name")?i&&a.update(!0):a.mount(e):(t.__jQvmComponent=a,a.mount(e))}})),s.forEach((function(t){delete t.__jQvmCompiledRecord}))}"function"==typeof i&&s.forEach((function(e){var s=ot(e),u={$root:t,scope:c,view:n,component:a},f=i.call(u,s,o);"function"==typeof f&&(r.revoke=f)}))}))}function gt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=ot(e),i=n.attr("id")||n.attr("jqvm-id")||++it,o="[jqvm-name=".concat(i,"]"),a=null,s=null,f=null,l=null,p=!1,d=!1,v=function(){return l?ot(l):n.next(o)},y=[],m=new at,g=[].concat(ut),j=[].concat(ct),w=X({},ft),O={};function E(t,e,n){return lt(g,t,e,n),e&&e instanceof at&&m.on("$beforeDestroy",(function(){return e.destroy()})),m}function k(t,e,n){return lt(j,t,e,n),m}function A(t,e){return w[t]=e,m}var S=null,C=L((function(t){if(a&&S){var e=I(a);if(S!==e)(!t||T(t))&&R(!0);S=e}}),16),_=function(){S=I(a)},P=function(t,e,n){var r=N(e,(function(e,r){return!!t&&(r in t&&(!!n||(!f||!b(f[r],e))))}));Object.assign(t,r)};function q(t){var e=h(t)?t.call(m):t;if(!e||"object"!==H(e))throw new Error("initState should must be an object");f&&P(e,f,!0),a=M(e,{dispatch:C,enumerable:function(){return!0}}),s=new r.ScopeX(a,{filters:w}),_(),K(),m.emit("$init")}function R(t){if((!t||p)&&D()){var e=v();vt(e);var r=yt(e,g,j,a,m,[n.html(),s]);t?mt(e,r):e.html(r),bt(e,s,m);var i=n.attr("attrs");if(i)$(s.parse(i),(function(t,n){if("class"===n)t.split(" ").forEach((function(t){return e.addClass(t)}));else if("style"===n){if(u(t))e.css(t);else if(c(t)){var r=x((e.attr("style")||"").split(";").concat(t.split(";")).filter((function(t){return!!t}))).join(";");e.attr("style",r)}}else e.attr(n,t)}));n.trigger("$render")}}function T(t){var e=!0;return n.trigger("$change",[t,function(){return e=!1}]),e}function D(){var t=!0;return n.trigger("$update",[a,function(){return t=!1}]),t}function U(e){if(p){if(!e)return m;if(e===l)return m;m.unmount()}if(n.next(o).length)return m;d||q(t);var r=null;if(l=e||null,e)(r=ot(e)).attr("jqvm-name",i);else{if(!ot(document).find(n).length)throw new Error("el should must be passed by view.mount");r=ot("<div />",{"jqvm-name":i}),n.after(r)}return R(),n.trigger("$mount"),p=!0,d=!1,m}function z(){if(!p)return m;var t=v();return t.length?(n.trigger("$unmount"),l?(t.html(""),t.removeAttr("jqvm-name")):t.remove(),l=null,p=!1,d=!0,m):void 0}function W(){n.trigger("$beforeDestroy");var t=v();z(),a=null,s=null,y.length=0;var e=t[0];delete e.__jQvmComponentInstances,delete e.__jQvmCompiledRecords,n.trigger("$destroy")}function B(t,e){if(e===st)return a&&P(a,t),f=t,m;if(!0===t)return p&&R(!0),m;if(a&&t){if(h(t)){var n=t(a);return u(n)?Object.assign(a,n):p&&C(),m}if(u(t))return Object.assign(a,t),m}return p&&t&&C(),m}function Q(t,e){var r=tt(t),i=r.pop(),o=et(r,2),s=o[0],u=o[1],c=function(n){var r=n.handleObj.origType;if("$"!==r[0]||(n.stopPropagation(),n.target===n.currentTarget)){for(var o=null,s=arguments.length,u=new Array(s>1?s-1:0),c=1;c<s;c++)u[c-1]=arguments[c];if("$"===r[0])i.call.apply(i,[m,a].concat(u));else{var f=i.call(m,a);h(f)&&(o=f.call.apply(f,[this,n].concat(u)))}return e&&F(t),o}},f={once:e,event:s,selector:u,fn:i,handle:c};if(y.push(f),p){var l=v(),d=e?"one":"on";if("$"===s[0])n[d](s,c);else{var b=[s,u].filter(Boolean);l[d].apply(l,tt(b).concat([c]))}}}function F(t){var e=tt(t),r=e.pop(),i=et(e,2),o=i[0],a=i[1],s=v();y.forEach((function(t,e){if(o===t.event&&a===t.selector&&r===t.fn){var i=t.event,u=[i,t.selector,t.handle].filter(Boolean);"$"===i[0]?n.off.apply(n,tt(u)):s.off.apply(s,tt(u)),y.splice(e,1)}}))}function Z(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];if(f&&h(f["@"+t])){var o=f["@"+t];o.apply(void 0,r)}"$"===t[0]&&y.forEach((function(e){e.event===t&&n.trigger.apply(n,[t].concat(r))}))}function K(){y.forEach((function(t){var e=t.event,r=t.handle;-1!==["$init","$destroy","$beforeDestroy","$mount"].indexOf(e)&&n.one(e,r)}))}function J(){n.on("$mount",(function(){var t=v();y.forEach((function(e){var r=e.once,i=e.event,o=e.selector,a=e.handle;if(!(["$init","$destroy","$beforeDestroy","$mount","$clone"].indexOf(i)>-1)){var s=r?"one":"on";if("$"===i[0])n[s](i,a);else{var u=[i,o].filter(Boolean);t[s].apply(t,tt(u).concat([a]))}}}))})),n.on("$unmount",(function(){var t=v();y.forEach((function(e){var n=e.event,r=e.selector,i=e.action;if("$"!==n[0]){var o=[n,r].filter(Boolean);t.off.apply(t,tt(o).concat([i]))}}))}))}function Y(t){return v().find(t)}function nt(t,e){return e?(O[t]=e,m):O[t]}function rt(){var n=gt.call(e,t);return $(O,(function(t,e){n.fn(e,t)})),$(y,(function(t){var e=t.type,r=t.event,i=t.selector,o=t.fn,a=[r,i].filter(Boolean);n["one"===e?"once":"on"].apply(n,tt(a).concat([o]))})),$(g,(function(t){ut.includes(t)||n.component.apply(n,tt(t))})),$(j,(function(t){ct.includes(t)||n.directive.apply(n,tt(t))})),$(w,(function(t,e){n.filter(e,t)})),y.forEach((function(t){var e=t.event,r=t.fn;"$clone"===e&&r.call(m,a,n)})),n}function pt(t){var e=t.call({view:m,scope:s});e&&Object.keys(e).forEach((function(t){m.on(t,e[t])}));return m}Object.assign(m,{once:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Q(e,!0),m},on:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Q(e),m},off:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return F(e),m},emit:Z,mount:U,unmount:z,destroy:W,update:B,find:Y,component:E,directive:k,filter:A,plugin:pt,fn:nt,clone:rt});var ht=n[0],dt=G(ht),xt=V(ht);return Object.defineProperties(m,{tag:{value:dt},attributes:{value:xt}}),J(),m}function xt(t){return(ot=t).fn.vm=gt,ot}function jt(t,e){var n=[];return function(){var r=this;return-1===n.indexOf(r)&&n.push(r),r.on("$change",(function(){return function(t,i){var a=i.keyPath,u=i.value;n.forEach((function(t){t!==r?t.update((function(t){!function(t,e,n){var r=s(e)?D(e):z(e);if(!r.length)return t;var i=r.pop();if(!r.length)return t[i]=n,t;for(var a=t,u=0,l=r.length;u<l;u++){var p=r[u],h=r[u+1];o(h)&&u===l-1&&(h=i),f(h)&&!s(a[p])||c(h)&&/^[0-9]+$/.test(h)&&!s(a[p])?a[p]=[]:null!==a[p]&&"object"===T(a[p])||(a[p]={}),a=a[p]}a[i]=n}(t,a,u)})):e&&h(e.onChange)&&e.onChange(a,u)}))}})),r.on("$destroy",(function(){n.forEach((function(t,e){t===r&&n.splice(e,1)}))})),e&&h(e.drive)&&e.drive((function(t){return r.update(t)})),t}}function wt(t,e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];if(!r){var s=this.view;r=t().then((function(t){n="undefined"!=typeof Symbol&&t&&"Module"===t[Symbol.toStringTag]||t&&t.__esModule?t.default:t,e&&(n=e.call.apply(e,[s,n].concat(o))||n),s.update(!0)}))}return n}}function Ot(t){return(Ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Et(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){At(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function At(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function St(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ct(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _t(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Pt(t,e)}function Pt(t,e){return(Pt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function It(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);if(e){var i=Nt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(t,e){return!e||"object"!==Ot(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function qt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Mt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rt(t,e,n){return e&&Mt(t.prototype,e),n&&Mt(t,n),t}function Lt(t){var e=window.history[t];return function(){var n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,window.dispatchEvent(r),n}}ht("jq-repeat",(function(t,e){var n=e["jq-repeat"];if(!/^[a-z][a-zA-Z0-9_$]*(,[a-z][a-zA-Z0-9_$]*){0,1} in [a-z][a-zA-Z0-9_$]+( traceby [a-z][a-zA-Z0-9_$.]*)?/.test(n))throw new Error("jq-repeat should match formatter `value,key in data traceby id`!");var r=t[0],i=G(r),o=et(n.split(" "),5),a=o[0],s=o[2],u=o[4],c=et(a.split(","),2),f=c[0],l=c[1],p=this.scope,h=this.compile,d=p.parse(s);t.removeAttr("jq-repeat"),u&&t.attr("data-id","{{".concat(u,"}}"));var v=[],y=r.outerHTML;$(d,(function(t,e){var n=Y({},f,t);l&&(n[l]=e);var r=p.$new(n),i=h(y,r,!0);v.push.apply(v,tt(i))}));var m=ot("\x3c!-- ".concat(i,' jq-repeat="').concat(n,'" begin --\x3e')),b=ot("\x3c!-- ".concat(i,' jq-repeat="').concat(n,'" end --\x3e'));t.replaceWith([m].concat(v,[b]))})),ht("jq-if",(function(t,e){var n=e["jq-if"];return this.scope.parse(n)?t:"\x3c!-- ".concat(G(t[0]),' jq-if="').concat(n,'" (hidden) --\x3e')})),ht("jq-id",(function(t,e){var n=e["jq-id"],r=this.scope.parse(n);t.attr("id",r)})),ht("jq-class",(function(t,e){var n=e["jq-class"];$(this.scope.parse(n),(function(e,n){e&&t.addClass(n)}))})),ht("jq-value",null,(function(t,e){var n=e["jq-value"],r=this.scope.parse(n);t.val(r)})),ht("jq-disabled",null,(function(t,e){var n=e["jq-disabled"],r=this.scope.parse(n);t.prop("disabled",!!r)})),ht("jq-checked",null,(function(t,e){var n=e["jq-checked"],r=this.scope.parse(n);t.prop("checked",!!r)})),ht("jq-selected",null,(function(t,e){var n=e["jq-selected"],r=this.scope.parse(n);t.prop("selected",!!r)})),ht("jq-bind",null,(function(t,e){var n=this,r=e["jq-bind"],i=this.scope.parse(r),o=t.is("[type=checkbox],[type=radio],[type=color],[type=date],[type=datetime-local],[type=week],[type=file],select")?"change":"input",a=t.is("[type=checkbox]"),s=t.is("[type=radio]");a?t.prop("checked",!!i):s?t.prop("checked",i===t.val()):t.val(i);var u=function(e){var i=a?t.prop("checked"):e.target.value;n.scope.assign(r,i)};return t.on(o,u),function(){return t.off(o,u)}})),ht("jq-src",null,(function(t,e){var n=e["jq-src"],r=this.scope.parse(n);t.attr("src",r)})),ht("jq-on",null,(function(t,e){var n=et(e["jq-on"].split(":"),2),r=n[0],i=et(K(n[1]),2),o=i[0],a=i[1],s=this.view,u=this.$root,c=this.scope,f=s.fn(o);if(f){var l=f;a&&(l=function(t){var e=a.map((function(t){return c.parse(t)}));return f.call.apply(f,[this,t].concat(tt(e)))});var p=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.parent();if(!r.length)return null;for(var i=function(t,e){for(var n=t[0].childNodes,r=e[0],i=0,o=0,a=n.length;o<a;o++){var s=n[o];if(s.nodeName===r.nodeName&&i++,s===r)return i}},o=i(r,t),a=t[0].nodeName.toLowerCase(),s=["".concat(a,":nth-of-type(").concat(o,")")],u=0;r[0]!==e[0];){var c=r;if(!(r=r.parent()).length)return null;var f=i(r,c),l=c[0].nodeName.toLowerCase();if(s.unshift("".concat(l,":nth-of-type(").concat(f,")")),++u>20)throw new Error("Cant get $element path in given $root.")}var p=[].concat(n).concat(s);return">"+p.join(">")}(t,u);if(p)return s.on(r,p,l),function(){return s.off(r,p,l)}}})),pt("jq-static",(function(){return ot("<template><slot></slot></template>").vm().on("$update",(function(){return function(t,e,n){n()}}))})),window.history.pushState=Lt("pushState"),window.history.replaceState=Lt("replaceState");var Tt=function(){function t(e){qt(this,t),this.events=[];var n=this.init(e);n&&this.on("$destroy",n)}return Rt(t,[{key:"init",value:function(){}},{key:"on",value:function(t,e){return this.events.push({e:t,fn:e}),this}},{key:"off",value:function(t,e){var n=this;return this.events.forEach((function(r,i){r.e===t&&r.fn===e&&n.events.splice(i,1)})),this}},{key:"emit",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];this.events.forEach((function(e){e.e===t&&e.fn.apply(e,n)}))}},{key:"destroy",value:function(){this.emit("$destroy")}}]),t}(),Dt=new(function(t){_t(n,t);var e=It(n);function n(){return qt(this,n),e.apply(this,arguments)}return Rt(n,[{key:"init",value:function(){var t=this;this.actionType="",this.latestState=window.history.state;var e=function(e){t.actionType=e.type;var n=t.latestState;t.latestState=window.history.state;var r=t.latestState;"popstate"===e.type&&((null==n?void 0:n.prev)===r?t.actionType="back":(null==n?void 0:n.next)===r&&(t.actionType="forward")),t.emit(t.actionType,window.location.href),t.emit("change",window.location.href)},n=function(e){if(t.events.some((function(t){return"protect"===t.e}))){var n=!1;t.emit("protect",(function(){}),(function(){return n=!0})),n&&e.preventDefault()}};return window.addEventListener("popstate",e),window.addEventListener("replaceState",e),window.addEventListener("pushState",e),window.addEventListener("beforeunload",n),function(){window.removeEventListener("popstate",e),window.removeEventListener("replaceState",e),window.removeEventListener("pushState",e),window.removeEventListener("beforeunload",n)}}},{key:"back",value:function(){window.history.back()}},{key:"forward",value:function(){window.history.forward()}},{key:"push",value:function(t){if(window.location.href!==t){var e={prev:window.history.state,url:t};window.history.pushState(e,null,t)}}},{key:"replace",value:function(t){var e;if(window.location.href!==t){var n=window.history.state,r={prev:null==n||null===(e=n.prev)||void 0===e?void 0:e.state,url:t};window.history.replaceState(r,null,t)}}},{key:"open",value:function(t){window.open(t)}}]),n}(Tt)),Ut=function(t){_t(n,t);var e=It(n);function n(){return qt(this,n),e.apply(this,arguments)}return Rt(n,[{key:"init",value:function(t){var e=this;this.options=t,this.url=this.getUrl();var n=function(){var n=t.baseUri,r=void 0===n?"":n,i=e.getUrl(),o=e.url;if(e.url=i,o!==i){var a=!0;r&&0!==i.indexOf(r)&&(a=!1),a&&e.emit("change",i)}};return Dt.on("change",n),function(){return Dt.off("change",n)}}},{key:"navigate",value:function(t,e){if("history"===this.options.mode)Dt[t](e);else{var n=window.location,r=n.pathname,i=n.search,o=r+(void 0===i?"":i)+"#"+e;Dt[t](o)}}},{key:"getUrl",value:function(){var t=this.options.mode,e=window.location,n=e.hash,r=e.href,i=e.origin;return"history"===t?r.replace(i,""):n.replace("#","")||"/"}},{key:"getLocation",value:function(){var t=St(this.getUrl().split("?"),2),e=t[0],n=t[1],r=void 0===n?"":n,i={};return r.split("&").filter(Boolean).forEach((function(t){var e=St(t.split("="),2),n=e[0],r=e[1];i[n]=r})),{pathname:e,search:r,params:i}}},{key:"setParams",value:function(t){var e=this.getLocation(),n=e.pathname,r=kt(kt({},e.query),t),i=Object.keys(r).reduce((function(t,e){var n=r[e],i=t?t+"&":"";return void 0===n?i+e:i+e+"="+n}),""),o=n+(i?"?"+i:"");this.navigate("push",o)}},{key:"isMatch",value:function(t){var e=this.getUrl();return t instanceof RegExp?t.test(e):e===t}}]),n}(Tt);function zt(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mode,n=t.baseUri,r=new Ut({mode:e,baseUri:n});return function(){var t=this.view,n={};Object.defineProperty(n,"params",{get:function(){return r.getLocation().params},enumerable:!0}),t.directive("jq-route",(function(t,e){var n=e["jq-route"],i="\x3c!-- ".concat(G(t[0]),' jq-route="').concat(n,'" (hidden) --\x3e'),o=n;if(/^\/.+?\/[a-z]*$/.test(o)){var a=o.substring(1).split("/"),s=a.pop(),u=a.join("/");o=new RegExp(u,s)}if(o instanceof RegExp||(o=this.scope.parse(n)),!r.isMatch(o))return i})),t.directive("jq-navigate",(function(t,n){var r=n["jq-navigate"];if(["back","forward"].indexOf(r)>-1)t.attr("href")||t.attr("href","#");else if("open"===r)"_blank"!==t.attr("target")&&t.attr("target","_blank");else if("history"!==e){var i=t.attr("href").replace(/^#+/,"");t.attr("href","#"+i)}}),(function(t,e){var n=e["jq-navigate"]||"push",i=function(e){if(["back","forward"].indexOf(n)>-1)e.preventDefault(),r.navigate(n);else if(["push","replace"].indexOf(n)>-1){e.preventDefault();var i=t.attr("href").replace(/^#+/,"");r.navigate(n,i)}};return t.on("click",i),function(){return t.off("click",i)}}));var i=function(){t.emit("$route",r.getUrl()),t.update(!0)};return{$init:function(e){t.$router=r,e.$route=n,r.on("change",i)},$destroy:function(){r.off("change",i),r.destroy()},$clone:function(t,e){e.$router=r}}}}"undefined"!=typeof jQuery&&xt(jQuery)}])}));